import{c as s,w as a,n as e,i as t,o as c,a as l,f as o,b as r,d as i,F as h,e as n,l as u,I as d,t as f}from"./index-BR_epvkd.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";const y=p({data:()=>({historySearch:[],searchValue:""}),onLoad(s){this.historySearch=this.getHistorySearch()},methods:{getHistorySearch:()=>uni.getStorageSync("historySearch")||[],onSearch(){const{searchValue:s}=this;s&&(this.setHistory(s),this.$navTo("pages/goods/list",{search:s}))},setHistory(s){const a=this.getHistorySearch(),e=a.indexOf(s);e>-1&&a.splice(e,1),a.unshift(s),this.historySearch=a,this.onUpdateStorage()},clearSearch(){this.historySearch=[],this.onUpdateStorage()},onUpdateStorage(s){uni.setStorageSync("historySearch",this.historySearch)},handleQuick(s){this.$navTo("pages/goods/list",{search:s})}}},[["render",function(p,y,S,_,g,k){const m=u,V=t,C=d;return c(),s(V,{class:"container",style:e(p.appThemeStyle)},{default:a((()=>[l(V,{class:"search-wrapper"},{default:a((()=>[l(V,{class:"search-input"},{default:a((()=>[l(V,{class:"search-input-wrapper"},{default:a((()=>[l(V,{class:"left"},{default:a((()=>[l(m,{class:"search-icon iconfont icon-search"})])),_:1}),l(V,{class:"right"},{default:a((()=>[l(C,{modelValue:g.searchValue,"onUpdate:modelValue":y[0]||(y[0]=s=>g.searchValue=s),class:"input",focus:"true",placeholder:"请输入您搜索的商品",type:"text"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),l(V,{class:"search-button"},{default:a((()=>[l(V,{class:"button",onClick:k.onSearch},{default:a((()=>[o("搜索")])),_:1},8,["onClick"])])),_:1})])),_:1}),g.historySearch.length?(c(),s(V,{key:0,class:"history"},{default:a((()=>[l(V,{class:"his-head"},{default:a((()=>[l(m,{class:"title"},{default:a((()=>[o("最近搜索")])),_:1}),l(m,{class:"icon iconfont icon-delete",onClick:k.clearSearch},null,8,["onClick"])])),_:1}),l(V,{class:"his-list"},{default:a((()=>[(c(!0),r(h,null,i(g.historySearch,((e,t)=>(c(),s(V,{class:"his-item",key:t},{default:a((()=>[l(V,{class:"history-button",onClick:s=>k.handleQuick(e)},{default:a((()=>[o(f(e),1)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1})):n("",!0)])),_:1},8,["style"])}],["__scopeId","data-v-1bdf4694"]]);export{y as default};
